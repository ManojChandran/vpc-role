---
# vars file for vpc-role
####################################################
# AWS Credentials                                  #
####################################################
aws_region:     "us-east-1"

####################################################
# VPC Information                                  #
####################################################
vpc_name:       "My VPC"
#vpc_name: "vpc-{{ aws_env }}"
vpc_cidr_block: "10.0.0.0/16"

####################################################
# AZ's, Subnets and CIDR's                         #
####################################################
vpc_network_map_pub:
  # public subnet
  - { aws_occ: 0, aws_az: "{{ aws_region }}a", aws_az_cidr: "10.0.0.0/24" }
  - { aws_occ: 1, aws_az: "{{ aws_region }}b", aws_az_cidr: "10.0.2.0/24" }

vpc_network_map_pvt:
    # private subnet
  - { aws_occ: 0, aws_az: "{{ aws_region }}a", aws_az_cidr: "10.0.1.0/24" }
  - { aws_occ: 1, aws_az: "{{ aws_region }}b", aws_az_cidr: "10.0.3.0/24" }

####################################################
# Access location CIDR defs (used in NACLs and SGs)#
####################################################
public_cidr: "0.0.0.0/0"

####################################################
# security group parameters                        #
####################################################
private_sg_name: "PrivateSecurityGroup"
public_sg_name:  "PublicSecurityGroup"

####################################################
# Private NACL ingress                             #
####################################################
pvt_nacl_ingress:
[
        # rule no, protocol, allow/deny, cidr, icmp_code, icmp_type, port from, port to
        [100, 'tcp', 'allow', "{{ public_cidr }}", null, null, 80, 80],
        [110, 'tcp', 'allow', "{{ public_cidr }}", null, null, 443, 443]
#        [120, 'tcp', 'allow', "{{ vpc_cidr_block }}", null, null, 22, 22],
#        [140, 'tcp', 'allow', "{{ public_cidr }}", null, null, 1024, 65535],
#        [150, 'icmp', 'allow', "{{ vpc_cidr_block }}", -1, -1]
     ]

####################################################
# Private NACL egress                              #
####################################################
pvt_nacl_egress:
[
        [100, 'tcp', 'allow', "{{ public_cidr }}", null, null, 80, 80],
        [110, 'tcp', 'allow', "{{ public_cidr }}", null, null, 443, 443]
#        [120, 'tcp', 'allow', "{{ vpc_cidr }}", null, null, 1024, 65535],
#        [150, 'tcp', 'allow', "{{ private_subnet_az_cidr }}", null, null, 22, 22],
#        [160, 'icmp', 'allow', "{{ vpc_cidr }}", -1, -1]
     ]

####################################################
# Public NACL ingress                              #
####################################################
pub_nacl_ingress:
[
        # rule no, protocol, allow/deny, cidr, icmp_code, icmp_type, port from, port to
        [100, 'tcp', 'allow', "{{ public_cidr }}", null, null, 80, 80],
        [110, 'tcp', 'allow', "{{ public_cidr }}", null, null, 443, 443],
        [140, 'tcp', 'allow', "{{ public_cidr }}", null, null, 1024, 65535]
#        [150, 'icmp', 'allow', "{{ vpc_cidr }}", -1, -1]
     ]

####################################################
# Public NACL egress                               #
####################################################
pub_nacl_egress:
[
        [100, 'tcp', 'allow', "{{ public_cidr }}", null, null, 80, 80],
        [110, 'tcp', 'allow', "{{ public_cidr }}", null, null, 443, 443],
#        [130, 'tcp', 'allow', "{{ private_subnet_az_cidr }}", null, null, 3306, 3306],
        [140, 'tcp', 'allow', "{{ public_cidr }}", null, null, 1024, 65535]
#        [150, 'tcp', 'allow', "{{ private_subnet_az1_cidr }}", null, null, 22, 22],
#        [151, 'tcp', 'allow', "{{ private_subnet_az2_cidr }}", null, null, 22, 22],
#        [160, 'icmp', 'allow', "{{ public_cidr }}", -1, -1]
     ]
